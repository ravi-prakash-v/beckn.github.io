{"componentChunkName":"component---src-templates-docs-js","path":"/APIReference/BecknGatewayAppSide/updateJourneyState","result":{"data":{"site":{"siteMetadata":{"title":"Beckn - Developer Page","docsLocation":"https://github.com/hasura/gatsby-gitbook-boilerplate/tree/master/content"}},"mdx":{"fields":{"id":"9f721025-8a92-5164-8766-069a2b12ed0d","title":"Update Journey State","slug":"/APIReference/BecknGatewayAppSide/updateJourneyState"},"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Update Journey State\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"BG receives Journey object with updated Journey state.\"), mdx(\"h4\", null, \"API Endpoint:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"Journey/State/update\\n\")), mdx(\"h4\", null, \"Request Structure :\"), mdx(\"p\", null, \"The request structure of a search request consists of a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Header\"), \" and \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Body\"), \".\"), mdx(\"p\", null, \"The request Header is an object of the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/Resources/Header\"\n  }), \"Header\"), \" class. The \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Action\"), \" field of the Header object will be equal to \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"\\\"Journey/State/update\\\"\")), mdx(\"p\", null, \"The request Body is a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/Resources/Journey\"\n  }), \"Journey\"), \" object with the state updated.\"), mdx(\"h5\", null, \"Example Request:\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Header :\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-json\"\n  }), \"{\\n  \\\"Action\\\": \\\"Journey/State/update\\\",\\n  \\\"Token\\\": \\\"string\\\",\\n  \\\"transaction_id\\\" : \\\"string\\\",\\n  \\\"Timestamp\\\": \\\"2019-09-13T14:31:54\\\",\\n  \\\"message\\\" : \\\"SUCCESS\\\"\\n}\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Body :\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-json\"\n  }), \"{\\n  \\\"id\\\" : \\\"< Unique Journey ID >\\\",\\n  \\\"state\\\" : \\\"NEW STATE\\\",\\n  \\\"origin\\\": {\\n    \\\"location\\\": {\\n      \\\"value\\\": \\\"(12.878742,77.999654)\\\",\\n      \\\"format\\\": \\\"geocode\\\"\\n    },\\n    \\\"departure_time\\\": {\\n      \\\"value\\\": \\\"2019-09-13T14:31:54+05:30\\\",\\n      \\\"format\\\": \\\"utc\\\"\\n    }\\n  },\\n  \\\"destination\\\": {\\n    \\\"location\\\": {\\n      \\\"value\\\": \\\"(12.454612,77.876287)\\\",\\n      \\\"format\\\": \\\"geocode\\\"\\n    }\\n  },\\n  \\\"state\\\": \\\"INIT\\\",\\n  \\\"trips\\\": [\\n    {\\n      \\\"id\\\": \\\"< Unique Trip ID >\\\",\\n      \\\"travelers\\\" : [\\n        {\\n          \\\"profile\\\" : {\\n            \\\"first_name\\\" : \\\"John\\\",\\n            \\\"last_name\\\" : \\\"Doe\\\",\\n            \\\"phone\\\" : \\\"+91-8899889988\\\",\\n            \\\"email\\\" : \\\"john.doe@example.com\\\"\\n          },\\n          \\\"cred\\\" : {\\n            \\\"type\\\" : \\\"aadhaar\\\",\\n            \\\"format\\\" : \\\"jpeg\\\",\\n            \\\"encoding\\\" : \\\"base64\\\",\\n            \\\"data\\\" : \\\"51o2POfNqXeZ...\\\"\\n          }\\n        }\\n      ],\\n      \\\"MobilityService\\\": {\\n        \\\"id\\\": \\\"h3nM51o2POfNqXeZJXu6\\\",\\n        \\\"name\\\": \\\"Port Authority Bus Service\\\",\\n        \\\"provision_type\\\": \\\"FIXED\\\",\\n        \\\"reservability\\\": {\\n          \\\"is_reservable\\\": true\\n        },\\n        \\\"capacity_type\\\": {\\n          \\\"carrier_reservable\\\": false,\\n          \\\"seat_reservable\\\": false\\n        },\\n        \\\"mobility_form\\\": {\\n          \\\"carrier\\\": {\\n            \\\"category\\\": \\\"BUS\\\"\\n          },\\n          \\\"medium\\\": \\\"ROADWAYS\\\"\\n        }\\n      },\\n      \\\"route\\\": {\\n        \\\"flexibilty\\\": \\\"FIXED CORRIDOR\\\",\\n        \\\"medium\\\": \\\"ROADWAYS\\\",\\n        \\\"stops\\\": [\\n          {\\n            \\\"location\\\": \\\"geocode:(12.878742,77.999654)@coord.(DD.DDDDDD);Vesey Street@name\\\",\\n            \\\"arrival_time\\\": \\\"2019-09-13T14:31:54+05:30\\\",\\n            \\\"buffer_time\\\": \\\"60 s\\\",\\n            \\\"departure_time\\\": \\\"2019-09-13T14:31:54+05:30\\\"\\n          },\\n          {\\n            \\\"location\\\": \\\"geocode:(12.878742,77.999654)@coord.(DD.DDDDDD);Fulton Street@name\\\",\\n            \\\"arrival_time\\\": \\\"2019-09-13T14:31:54+05:30\\\"\\n          }\\n        ],\\n        \\\"edges\\\": [\\n          {\\n            \\\"travel_time\\\": \\\"2 min\\\",\\n            \\\"path\\\": \\\"polyline:(12.878742,77.999654),(12.878742,77.999654),(12.878742,77.999654)\\\"\\n          }\\n        ]\\n      }\\n    },\\n    {\\n      \\\"id\\\": \\\"< Unique Trip ID >\\\",\\n      \\\"service\\\": {\\n        \\\"id\\\": \\\"Dl9jAJzRlCZirt8IJYwA\\\",\\n        \\\"name\\\": \\\"New York Subway\\\",\\n        \\\"provision_type\\\": \\\"FIXED\\\",\\n        \\\"reservability\\\": {\\n          \\\"is_reservable\\\": true\\n        },\\n        \\\"capacity_type\\\": {\\n          \\\"carrier_reservable\\\": false,\\n          \\\"seat_reservable\\\": false\\n        },\\n        \\\"mobility_form\\\": {\\n          \\\"carrier\\\": {\\n            \\\"category\\\": \\\"TRAIN\\\"\\n          },\\n          \\\"medium\\\": \\\"RAILWAYS\\\"\\n        }\\n      },\\n      \\\"route\\\": {\\n        \\\"flexibilty\\\": \\\"FIXED CORRIDOR\\\",\\n        \\\"medium\\\": \\\"RAILWAYS\\\",\\n        \\\"stops\\\": [\\n          {\\n            \\\"location\\\": \\\"station:33rd Street, World Trade Center@name\\\",\\n            \\\"arrival_time\\\": \\\"2019-09-13T14:31:54+05:30\\\",\\n            \\\"buffer_time\\\": \\\"60 s\\\",\\n            \\\"departure_time\\\": \\\"2019-09-13T14:31:54+05:30\\\"\\n          },\\n          {\\n            \\\"location\\\": \\\"station:34th Street, Pennsylavania Station@name\\\",\\n            \\\"arrival_time\\\": \\\"2019-09-13T14:31:54+05:30\\\"\\n          }\\n        ],\\n        \\\"edges\\\": [\\n          {\\n            \\\"travel_time\\\": \\\"12 min\\\",\\n            \\\"path\\\": \\\"polyline:(12.878742,77.999654),(12.878742,77.999654),(12.878742,77.999654)\\\"\\n          }\\n        ]\\n      }\\n    }\\n  ],\\n  \\\"transfers\\\": [\\n    {\\n      \\\"origin\\\": \\\"geocode:(12.878742,77.999654)@coord.(DD.DDDDDD);Fulton Street@name\\\",\\n      \\\"destination\\\": \\\"station:33rd Street, World Trade Center@name\\\",\\n      \\\"medium\\\": \\\"ROADWAYS\\\",\\n      \\\"mode\\\": \\\"WALK\\\",\\n      \\\"time\\\": \\\"5 min\\\"\\n    }\\n  ]\\n}\\n\")), mdx(\"h4\", null, \"Response Structure\"), mdx(\"p\", null, \"The response structure will consist of a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Header\"), \" and an optional \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Body\")), mdx(\"p\", null, \"As the API is non-blocking, the Response to the above Request will be a simple \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"ACK\"), \" or a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"NACK\"), \" response. The response Header is an object of the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/Resources/Header\"\n  }), \"Header\"), \" class. The ACK and NACK response Headers will have the action field equal to \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"\\\"ACK\\\"\"), \" and \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"\\\"NACK\\\"\"), \" respectively. The ACK response Body will be an \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"empty\"), \" JSON object.\"), mdx(\"p\", null, \"The NACK response body may optionally contain an \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/Resources/Error\"\n  }), \"Error\"), \" object.\"), mdx(\"h5\", null, \"Example ACK Response\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Header :\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-json\"\n  }), \"{\\n  \\\"action\\\": \\\"ACK\\\",\\n  \\\"message\\\": \\\"Success Message string\\\"\\n}\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Body :\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-json\"\n  }), \"{}\\n\")), mdx(\"h5\", null, \"Example NACK Response :\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Header :\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-json\"\n  }), \"{\\n  \\\"action\\\": \\\"NACK\\\",\\n  \\\"message\\\": \\\"Error message string\\\"\\n}\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Body :\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-json\"\n  }), \"{}\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;","tableOfContents":{"items":[{"url":"#api-endpoint","title":"API Endpoint:"},{"url":"#request-structure-","title":"Request Structure :","items":[{"url":"#example-request","title":"Example Request:"}]},{"url":"#response-structure","title":"Response Structure","items":[{"url":"#example-ack-response","title":"Example ACK Response"},{"url":"#example-nack-response-","title":"Example NACK Response :"}]}]},"parent":{"relativePath":"APIReference/BecknGatewayAppSide/updateJourneyState.md"},"frontmatter":{"metaTitle":null,"metaDescription":null}},"allMdx":{"edges":[{"node":{"fields":{"slug":"/Resources","title":"Resource Reference"}}},{"node":{"fields":{"slug":"/APIReference/BecknAppAPI","title":"Beckn App API"}}},{"node":{"fields":{"slug":"/APIReference/BPRegistration","title":"Beckn Provider Registration API"}}},{"node":{"fields":{"slug":"/APIReference/BecknProviderAPI","title":"Beckn Provider API"}}},{"node":{"fields":{"slug":"/Resources/Amount","title":"Amount"}}},{"node":{"fields":{"slug":"/Resources/CapacityType","title":"CapacityType"}}},{"node":{"fields":{"slug":"/Resources/Edge","title":"Edge"}}},{"node":{"fields":{"slug":"/Resources/Cred","title":"Cred"}}},{"node":{"fields":{"slug":"/Resources/FareProduct","title":"Fare Product"}}},{"node":{"fields":{"slug":"/Resources/Journey","title":"Journey"}}},{"node":{"fields":{"slug":"/Resources/Error","title":"Error"}}},{"node":{"fields":{"slug":"/Resources/Fare","title":"Fare"}}},{"node":{"fields":{"slug":"/Resources/JourneyIntent","title":"JourneyIntent"}}},{"node":{"fields":{"slug":"/Resources/Location","title":"Location"}}},{"node":{"fields":{"slug":"/Resources/Header","title":"Header"}}},{"node":{"fields":{"slug":"/Resources/MobilityForm","title":"Mobility Form"}}},{"node":{"fields":{"slug":"/Resources/MspInitiatedPayment","title":"MSP Initiated Payment"}}},{"node":{"fields":{"slug":"/Resources/MobilityService","title":"MobilityService"}}},{"node":{"fields":{"slug":"/Resources/Payment","title":"Payment"}}},{"node":{"fields":{"slug":"/Resources/Person","title":"Person"}}},{"node":{"fields":{"slug":"/Resources/Profile","title":"Profile"}}},{"node":{"fields":{"slug":"/Resources/Refund","title":"Refund"}}},{"node":{"fields":{"slug":"/Resources/Reservability","title":"Reservability"}}},{"node":{"fields":{"slug":"/Resources/Route","title":"Route"}}},{"node":{"fields":{"slug":"/Resources/Stop","title":"Stop"}}},{"node":{"fields":{"slug":"/Resources/Transfer","title":"Transfer"}}},{"node":{"fields":{"slug":"/Resources/TravelGroup","title":"TravelGroup"}}},{"node":{"fields":{"slug":"/Resources/Traveler","title":"Traveler"}}},{"node":{"fields":{"slug":"/Resources/Trip","title":"Trip"}}},{"node":{"fields":{"slug":"/Resources/Tracking","title":"Tracking"}}},{"node":{"fields":{"slug":"/Resources/Vehicle","title":"Vehicle"}}},{"node":{"fields":{"slug":"/APIReference/BecknAppAPI/cbAddStop","title":"Add Stop - Callback"}}},{"node":{"fields":{"slug":"/APIReference/BecknAppAPI/cbConfirmJourney","title":"Confirm Journey - Callback"}}},{"node":{"fields":{"slug":"/APIReference/BecknAppAPI/cbGetFareProducts","title":"Get Fare Products - Callback"}}},{"node":{"fields":{"slug":"/APIReference/BecknAppAPI/cbInitJourney","title":"Init Journey - Callback"}}},{"node":{"fields":{"slug":"/APIReference/BecknAppAPI/cbRemoveTrip","title":"Remove Trip - Callback"}}},{"node":{"fields":{"slug":"/APIReference/BecknAppAPI/cbSearchJourneys","title":"Search Journey - Callback"}}},{"node":{"fields":{"slug":"/APIReference/BecknAppAPI/cbTrackTrip","title":"Track Trip - Callback"}}},{"node":{"fields":{"slug":"/APIReference/BecknAppAPI/initRefund","title":"Initiate Refund"}}},{"node":{"fields":{"slug":"/APIReference/BecknGatewayAppSide/confirmJourney","title":"Confirm Journey"}}},{"node":{"fields":{"slug":"/APIReference/BecknGatewayAppSide/getFareProducts","title":"Get Fare Products"}}},{"node":{"fields":{"slug":"/APIReference/BecknGatewayAppSide/initJourney","title":"Initialize Journey"}}},{"node":{"fields":{"slug":"/APIReference/BecknGatewayAppSide/trackTrip","title":"Track Trip"}}},{"node":{"fields":{"slug":"/APIReference/BecknGatewayAppSide/searchJourneys","title":"Search Journeys"}}},{"node":{"fields":{"slug":"/APIReference/BecknGatewayProviderSide/cbGetFareProducts","title":"Get Fare Products - Callback"}}},{"node":{"fields":{"slug":"/APIReference/BecknGatewayProviderSide/cbSearchTrips","title":"Search Trip - Callback"}}},{"node":{"fields":{"slug":"/APIReference/BecknGatewayProviderSide/cbTrackTrip","title":"Track Trip - Callback"}}},{"node":{"fields":{"slug":"/APIReference/BecknProviderAPI/getFareProducts","title":"Get Fare Products"}}},{"node":{"fields":{"slug":"/APIReference/BecknProviderAPI/searchTrips","title":"Search Trips"}}},{"node":{"fields":{"slug":"/APIReference/BecknProviderAPI/trackTrip","title":"Track Trip"}}},{"node":{"fields":{"slug":"/APIReference","title":"API Reference"}}},{"node":{"fields":{"slug":"/","title":"Beckn Mobility"}}},{"node":{"fields":{"slug":"/APIReference/BecknGatewayAppSide","title":"Beckn Gateway App Side API"}}},{"node":{"fields":{"slug":"/APIReference/BecknGatewayAppSide/addStop","title":"Add Stop"}}},{"node":{"fields":{"slug":"/APIReference/BecknGatewayAppSide/addTravelers","title":"Add Travelers to Trip"}}},{"node":{"fields":{"slug":"/APIReference/BecknGatewayAppSide/cbGetTravelersCred","title":"Get Travelers Cred - Callback"}}},{"node":{"fields":{"slug":"/APIReference/BecknGatewayAppSide/addTrip","title":"Add Trip"}}},{"node":{"fields":{"slug":"/APIReference/BecknGatewayAppSide/removeStop","title":"Remove Stop"}}},{"node":{"fields":{"slug":"/APIReference/BecknAppAPI/cbAddTravelers","title":"Add Travelers to Trip - Callback"}}},{"node":{"fields":{"slug":"/APIReference/BecknGatewayAppSide/removeTrip","title":"Remove Trip"}}},{"node":{"fields":{"slug":"/APIReference/BecknAppAPI/cbAddTrip","title":"Add Trip - Callback"}}},{"node":{"fields":{"slug":"/APIReference/BecknAppAPI/cbRemoveStop","title":"Remove Stop - Callback"}}},{"node":{"fields":{"slug":"/APIReference/BecknGatewayAppSide/updateTripState","title":"Update Trip State"}}},{"node":{"fields":{"slug":"/APIReference/BecknGatewayAppSide/updateJourneyState","title":"Update Journey State"}}},{"node":{"fields":{"slug":"/APIReference/BecknAppAPI/cbUpdateJourneyState","title":"Update Journey State - Callback"}}},{"node":{"fields":{"slug":"/APIReference/BecknAppAPI/cbUpdateTripState","title":"Update Trip State - Callback"}}},{"node":{"fields":{"slug":"/APIReference/BecknGatewayProviderSide/cbAddTravelers","title":"Add Travelers - Callback"}}},{"node":{"fields":{"slug":"/APIReference/BecknAppAPI/getTravelersCred","title":"Get Travelers Cred"}}},{"node":{"fields":{"slug":"/APIReference/BecknGatewayProviderSide/cbAddTrip","title":"Add Trip - Callback"}}},{"node":{"fields":{"slug":"/APIReference/BecknGatewayProviderSide/cbAddStop","title":"Add Stop - Callback"}}},{"node":{"fields":{"slug":"/APIReference/BecknGatewayProviderSide/cbConfirmTrip","title":"Confirm Trip - Callback"}}},{"node":{"fields":{"slug":"/APIReference/BecknGatewayProviderSide/getTravelersCred","title":"Get Travelers Cred"}}},{"node":{"fields":{"slug":"/APIReference/BecknGatewayProviderSide/cbInitTrip","title":"Init Trip - Callback"}}},{"node":{"fields":{"slug":"/APIReference/BecknGatewayProviderSide/cbUpdateTripState","title":"Update Trip State - Callback"}}},{"node":{"fields":{"slug":"/APIReference/BecknGatewayProviderSide/cbRemoveStop","title":"Remove Stop - Callback"}}},{"node":{"fields":{"slug":"/APIReference/BecknGatewayProviderSide/cbRemoveTrip","title":"Remove Trip - Callback"}}},{"node":{"fields":{"slug":"/APIReference/BecknProviderAPI/addTravelers","title":"Add Travelers"}}},{"node":{"fields":{"slug":"/APIReference/BecknProviderAPI/cbGetTravelersCred","title":"Get Travelers Cred - Callback"}}},{"node":{"fields":{"slug":"/APIReference/BecknProviderAPI/addTrip","title":"Add Trip"}}},{"node":{"fields":{"slug":"/APIReference/BecknProviderAPI/confirmTrip","title":"Confirm Trip"}}},{"node":{"fields":{"slug":"/APIReference/BecknProviderAPI/initTrip","title":"Init Trip"}}},{"node":{"fields":{"slug":"/APIReference/BecknProviderAPI/addStop","title":"Add Stop"}}},{"node":{"fields":{"slug":"/APIReference/BecknProviderAPI/removeStop","title":"Remove Stop"}}},{"node":{"fields":{"slug":"/APIReference/BecknProviderAPI/removeTrip","title":"Remove Trip"}}},{"node":{"fields":{"slug":"/APIReference/BecknProviderAPI/updateTripState","title":"Update Trip State"}}},{"node":{"fields":{"slug":"/APIReference/BecknGatewayProviderSide","title":"Beckn Gateway Provider Side API"}}}]}},"pageContext":{"id":"9f721025-8a92-5164-8766-069a2b12ed0d"}}}